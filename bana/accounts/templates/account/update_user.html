{% load allauth i18n static %}

<form method="POST" enctype="multipart/form-data"
      action="{% url 'accounts:update_user' %}"
      class="form">
    {% csrf_token %}
  
    {% comment "" %}
    {{ user_form.as_p }}
    {{ profile_form.as_p }}
    {% endcomment %}
    
    <div class="row mb-3">
        <!-- Username -->
        <label class="col-sm-3 col-form-label">{% trans "Username" %}:</label>
        <div class="col-sm-9">
            {{ user_form.username }}
            <small class="text-danger">{{ user_form.username.errors }}</small>
        </div>
    </div>

    <div class="row mb-3">
        <!-- FirstName -->
        <label class="col-sm-3 col-form-label">{% trans "First Name" %}:</label>
        <div class="col-sm-9">
            {{ user_form.first_name }}
            <small class="text-danger">{{ user_form.first_name.errors }}</small>
        </div>
    </div>

    <div class="row mb-3">
        <!-- LastName -->
        <label class="col-sm-3 col-form-label">{% trans "Last Name" %}:</label>
        <div class="col-sm-9">
            {{ user_form.last_name }}
            <small class="text-danger">{{ user_form.last_name.errors }}</small>
        </div>
    </div>
    <div class="row mb-3">
        <!-- Phone -->
        <label class="col-sm-3 col-form-label">{% trans "Phone" %}:</label>
        <div class="col-sm-9">
            {{ profile_form.phone }}
            <small class="text-danger">{{ profile_form.phone.errors }}</small>
        </div>
    </div>

    <div class="row mb-3">
        <!-- Bio -->
        <label class="col-sm-3 col-form-label">{% trans "Bio" %}:</label>
        <div class="col-sm-9">
            {{ profile_form.bio }}
            <small class="text-danger">{{ profile_form.bio.errors }}</small>
        </div>
    </div>

    <div class="row mb-3">
        <!-- Profile -->
        <label class="col-sm-3 col-form-label">{% trans "Picture" %}:</label>
        <div class="col-sm-9">
          <input type="file" id="imageUpload" name="{{ profile_form.image.name }}">
          <small class="text-danger">{{ profile_form.image.errors }}</small>
           {% if profile_form.instance.image %}                
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="image-clear" name="image-clear">
                    <label class="form-check-label" for="image-clear">
                        {% trans "Delete profile picture" %}
                    </label>
                </div>
            {% endif %}
        </div>


    </div>

    <div class="text-center">
        <button type="submit" class="btn btn-primary">{% trans 'Update Profile' %}</button>
    </div>
</form>
