
{% load static allauth i18n %}

<form 
    method="post"
    hx-post="{% url 'accounts:email_edit' %}"
    hx-target="#email-edit"
    hx-swap="outerHTML"
>
    {% csrf_token %}

    <div class="mb-3">
        <label for="{{ form.email.id_for_label }}" class="form-label">{% trans "Nouvelle adresse e-mail" %}</label>
        {{ form.email }}
        {% for error in form.email.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary">💾 Sauvegarder</button>
    <button type="button" class="btn btn-secondary" 
            hx-get="{% url 'accounts:email_display' %}"
            hx-target="#email-edit"
            hx-swap="innerHTML">❌ Annuler</button>
</form>
