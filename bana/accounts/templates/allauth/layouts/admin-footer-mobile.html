{% load static %}

<footer class="fixed inset-x-0 bottom-0 z-50 md:hidden">
  <nav
    class="mx-3 mb-[calc(0.75rem+env(safe-area-inset-bottom))] rounded-2xl border border-gray-200 bg-white/70 backdrop-blur-xl shadow-2xl ring-1 ring-black/5"
    role="navigation" aria-label="Navigation principale mobile">
    <ul class="grid grid-cols-4">
      {% with current=request.resolver_match.url_name %}

      {# Rechercher #}
      <li>
        <a href="{% url 'researched_traject' %}"
           class="relative flex items-center justify-center py-3 min-h-[60px] transition
                  {% if current == 'researched_traject' %}text-brand{% else %}text-gray-500 hover:text-brand{% endif %}"
           {% if current == 'researched_traject' %}aria-current="page"{% endif %}>
          <span class="grid place-items-center h-10 w-10 rounded-full transition
                       {% if current == 'researched_traject' %}bg-brand/15 ring-1 ring-brand/30{% else %}bg-transparent{% endif %}">
            <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <circle cx="11" cy="11" r="7" stroke-width="2"/>
              <path d="M20 20l-3.5-3.5" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="sr-only">Rechercher</span>
        </a>
      </li>

      {# Proposer #}
      <li>
        <a href="{% url 'proposed_traject' %}"
           class="relative flex items-center justify-center py-3 min-h-[60px] transition
                  {% if current == 'proposed_traject' %}text-brand{% else %}text-gray-500 hover:text-brand{% endif %}"
           {% if current == 'proposed_traject' %}aria-current="page"{% endif %}>
          <span class="grid place-items-center h-10 w-10 rounded-full transition
                       {% if current == 'proposed_traject' %}bg-brand/15 ring-1 ring-brand/30{% else %}bg-transparent{% endif %}">
            <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="sr-only">Proposer</span>
        </a>
      </li>

      {# Réservations #}
      <li>
        <a href="{% url 'my_reservations' %}"
           class="relative flex items-center justify-center py-3 min-h-[60px] transition
                  {% if current == 'my_reservations' %}text-brand{% else %}text-gray-500 hover:text-brand{% endif %}"
           {% if current == 'my_reservations' %}aria-current="page"{% endif %}>
          <span class="grid place-items-center h-10 w-10 rounded-full transition
                       {% if current == 'my_reservations' %}bg-brand/15 ring-1 ring-brand/30{% else %}bg-transparent{% endif %}">
            <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <rect x="3" y="5" width="18" height="16" rx="2" stroke-width="2"/>
              <path d="M16 3v4M8 3v4M3 11h18" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="sr-only">Réservations</span>
        </a>
      </li>

      {# Profil #}
      <li>
        <a href="{% url 'accounts:profile' %}"
           class="relative flex items-center justify-center py-3 min-h-[60px] transition
                  {% if current == 'profile' %}text-brand{% else %}text-gray-500 hover:text-brand{% endif %}"
           {% if current == 'profile' %}aria-current="page"{% endif %}>
          <span class="grid place-items-center h-10 w-10 rounded-full transition
                       {% if current == 'profile' %}bg-brand/15 ring-1 ring-brand/30{% else %}bg-transparent{% endif %}">
            <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <circle cx="12" cy="8" r="4" stroke-width="2"/>
              <path d="M6 20a6 6 0 0112 0" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="sr-only">Profil</span>
        </a>
      </li>

      {% endwith %}
    </ul>
  </nav>
</footer>
